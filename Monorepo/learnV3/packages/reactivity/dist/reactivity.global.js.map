{
  "version": 3,
  "sources": ["../src/index.ts", "../../shared/src/index.ts", "../src/reactive.ts", "../src/effect.ts"],
  "sourcesContent": ["export { reactive } from \"./reactive\";\nexport { effect } from \"./effect\";\n", "// src/index.ts\n\n/**\n * \u5224\u65AD\u5BF9\u8C61\n */\nexport const isObject = (value) => {\n  return typeof value === \"object\" && value !== null;\n};\n\n/**\n * \u5224\u65AD\u51FD\u6570\n */\nexport const isFunction = (value) => {\n  return typeof value === \"function\";\n};\n\n/**\n * \u5224\u65AD\u5B57\u7B26\u4E32\n */\nexport const isString = (value) => {\n  return typeof value === \"string\";\n};\n\n/**\n * \u5224\u65AD\u6570\u5B57\n */\nexport const isNumber = (value) => {\n  return typeof value === \"number\";\n};\n/**\n * \u5224\u65AD\u6570\u7EC4\n */\nexport const isArray = Array.isArray;\n", "import { isObject } from \"@v3/shared\";\n\n// \u53EA\u80FD\u5B9E\u73B0\u5BF9\u8C61\u6570\u636E\u7684\u54CD\u5E94\u5F0F\n// \u540C\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u53EA\u4F1A\u88AB\u4EE3\u7406\u4E00\u6B21\n// \u88AB\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\uFF0C\u4E0D\u4F1A\u88AB\u518D\u6B21\u4EE3\u7406\n// \u652F\u6301\u5D4C\u5957\u5C5E\u6027\u7684\u54CD\u5E94\u5F0F\n\nconst reactiveMap = new WeakMap();\n\nexport function reactive(target) {\n  // \u53EA\u80FD\u4EE3\u7406\u5BF9\u8C61\n  if (!isObject(target)) {\n    return target;\n  }\n  const exiting = reactiveMap.get(target);\n  if (exiting) {\n    return exiting;\n  }\n  const handler = {\n    get(target, key, receiver) {\n      return Reflect.get(target, key);\n    },\n    set(target, key, value, receiver) {\n      console.log(`${key}\u5C5E\u6027\u53D8\u5316\u4E86\uFF0C\u6D3E\u53D1\u66F4\u65B0`);\n      // \u5F53\u5C5E\u6027\u7684\u65B0\u503C\u548C\u65E7\u503C\u4E0D\u540C\u65F6\uFF0C\u518D\u8FDB\u884C\u8BBE\u7F6E\n      if (target[key] !== value) {\n        const result = Reflect.set(target, key, value, receiver);\n        return result;\n      }\n    },\n  };\n\n  const proxy = new Proxy(target, handler);\n  // \u540C\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u53EA\u4F1A\u88AB\u4EE3\u7406\u4E00\u6B21\n  // \u7F13\u5B58\u4EE3\u7406\u8FC7\u7684\n  reactiveMap.set(target, proxy);\n  return proxy;\n}\n", "// reactivity/src/effect.ts\nexport function effect(fn) {\n  // effect \u65B9\u6CD5\u63A5\u6536\u4E00\u4E2A\u51FD\u6570\u53C2\u6570\uFF0C\u9700\u8981\u5C06\u5176\u4FDD\u5B58\uFF0C\u5E76\u6267\u884C\u4E00\u6B21\uFF1B\u4EE5\u540E\u8FD8\u4F1A\u6269\u5C55\u51FA\u66F4\u591A\u7684\u529F\u80FD\uFF0C\u6240\u4EE5\u5C06\u5176\u5C01\u88C5\u4E3A\u4E00\u4E2A ReactiveEffect \u7C7B\u8FDB\u884C\u7EF4\u62A4\n  const _effect = new ReactiveEffect(fn);\n  _effect.run();\n}\nclass ReactiveEffect {\n  constructor(fn) {\n    this.fn = fn;\n  }\n  run() {\n    this.fn();\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACKO,MAAM,WAAW,CAAC,UAAU;AACjC,WAAO,OAAO,UAAU,YAAY,UAAU;AAAA,EAChD;AAyBO,MAAM,UAAU,MAAM;;;ACzB7B,MAAM,cAAc,oBAAI,QAAQ;AAEzB,WAAS,SAAS,QAAQ;AAE/B,QAAI,CAAC,SAAS,MAAM,GAAG;AACrB,aAAO;AAAA,IACT;AACA,UAAM,UAAU,YAAY,IAAI,MAAM;AACtC,QAAI,SAAS;AACX,aAAO;AAAA,IACT;AACA,UAAM,UAAU;AAAA,MACd,IAAIA,SAAQ,KAAK,UAAU;AACzB,eAAO,QAAQ,IAAIA,SAAQ,GAAG;AAAA,MAChC;AAAA,MACA,IAAIA,SAAQ,KAAK,OAAO,UAAU;AAChC,gBAAQ,IAAI,GAAG,iEAAe;AAE9B,YAAIA,QAAO,SAAS,OAAO;AACzB,gBAAM,SAAS,QAAQ,IAAIA,SAAQ,KAAK,OAAO,QAAQ;AACvD,iBAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAEA,UAAM,QAAQ,IAAI,MAAM,QAAQ,OAAO;AAGvC,gBAAY,IAAI,QAAQ,KAAK;AAC7B,WAAO;AAAA,EACT;;;ACpCO,WAAS,OAAO,IAAI;AAEzB,UAAM,UAAU,IAAI,eAAe,EAAE;AACrC,YAAQ,IAAI;AAAA,EACd;AACA,MAAM,iBAAN,MAAqB;AAAA,IACnB,YAAY,IAAI;AACd,WAAK,KAAK;AAAA,IACZ;AAAA,IACA,MAAM;AACJ,WAAK,GAAG;AAAA,IACV;AAAA,EACF;",
  "names": ["target"]
}
